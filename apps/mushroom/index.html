<html>
    <head>
        <title>Mushroom Scanner</title>
        <link rel="stylesheet" href="bootstrap.css">
        <style>
            td {
                padding-right: 20px;
                padding-bottom: 10px;
            }
            table {width: 100%;}
        </style>
    </head>
    <body>


        <h2 class="text-success ml-4 mt-3"><strong>Mushroom Detector</strong></h2>
            <br>
        <div class="row m-3">
            <div class="col-md-5 col-lg-5 col-sm-12 col-xs-12 mt-3">
                <div class="text-center">
                    <button type="button" class="btn btn-success my-2 form-control" onclick="init()">Mulai Scan</button>
                </div>
                <div class="center text-center" id="webcam-container"></div>
                <div id="label-container" class="my-3"></div>
            </div>

            <hr>
        
            
            
            <div class="col-md-5 col-lg-5 col-sm-12 col-xs-12 mr-3">
                <h3 class="text-center mt-5"><strong>Ensiklopedia</strong></h3>
                <br>
                <Table>

                    <tr>
                        <td>1.</td>
                        <td>
                            <img src="img/tiram.jpeg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Tiram</p>
                            <p><em>(Pleurotus ostreatus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>

                    <tr>
                        <td>2.</td>
                        <td>
                            <img src="img/kuping.jpeg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Kuping</p>
                            <p><em>(Auricularia auricula-judae)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>3.</td>
                        <td>
                            <img src="img/enoki.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Enoki</p>
                            <p><em>(Flammulina velutipes)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>4.</td>
                        <td>
                            <img src="img/merang.png" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Merang</p>
                            <p><em>(Volvariella volvacea)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>5.</td>
                        <td>
                            <img src="img/kancing.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Kancing</p>
                            <p><em>(Agaricus bisporus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>6.</td>
                        <td>
                            <img src="img/shitake.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Shitake</p>
                            <p><em>(Lentinula edodes)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>7.</td>
                        <td>
                            <img src="img/turffle.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Truffle</p>
                            <p><em>(Tuber melanosporum)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>8.</td>
                        <td>
                            <img src="img/maitake.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Maitake</p>
                            <p><em>(Grifola frondosa)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>10.</td>
                        <td>
                            <img src="img/matsutake.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Matsutake</p>
                            <p><em>(Tricholoma matsutake)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>11.</td>
                        <td>
                            <img src="img/shimeji.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Shimeji</p>
                            <p><em>(Hypsizygus marmoreus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>12.</td>
                        <td>
                            <img src="img/portobello.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Portobello</p>
                            <p><em>(Agaricus bisporus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>13.</td>
                        <td>
                            <img src="img/eryngii.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Eryngii</p>
                            <p><em>(Pleurotus eryngii)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>14.</td>
                        <td>
                            <img src="img/lingzhi.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Lingzhi</p>
                            <p><em>(Ganoderma lucidum)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>15.</td>
                        <td>
                            <img src="img/morel.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Morel</p>
                            <p><em>(Morchella)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>16.</td>
                        <td>
                            <img src="img/porcini.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Porcini</p>
                            <p><em>(Boletus edulis)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>17.</td>
                        <td>
                            <img src="img/chaga.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Chaga</p>
                            <p><em>(Inonotus obliquus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>18.</td>
                        <td>
                            <img src="img/mane.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Lion's Mane</p>
                            <p><em>(Hericium erinaceus)</em></p> 
                        </td>
                        <td>
                            <p class="text-success">Aman</p>
                        </td>
                    </tr>
                    <tr>
                        <td>19.</td>
                        <td>
                            <img src="img/amanita.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Amanita Soliter Eropa</p>
                            <p><em>(Amanita echinocephala)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>20.</td>
                        <td>
                            <img src="img/gading.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Corong Gading</p>
                            <p><em>(Clitocybe dealbata)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>20.</td>
                        <td>
                            <img src="img/dapperling.jpeg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Dapperling Mematikan</p>
                            <p><em>(Lepiota brunneoincarnata)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>21.</td>
                        <td>
                            <img src="img/coral.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Koral Api</p>
                            <p><em>(Podostroma cornu-damae)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>22.</td>
                        <td>
                            <img src="img/rutilan.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Rutilan Hapalopilus</p>
                            <p><em>(Podostroma cornu-damae)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>23.</td>
                        <td>
                            <img src="img/kaisar.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Kaisar Rhodopurpureus</p>
                            <p><em>(Imperator rhodopurpureus)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>24.</td>
                        <td>
                            <img src="img/webcap.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Webcap</p>
                            <p><em>(Cortinarius Rubellus)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>25.</td>
                        <td>
                            <img src="img/conocybe.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Conocybe</p>
                            <p><em>(Conocybe filaris)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>26.</td>
                        <td>
                            <img src="img/parasol.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Parasol</p>
                            <p><em>(Parasol Cystoderma)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>27.</td>
                        <td>
                            <img src="img/sihir.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Sihir</p>
                            <p><em>(Psilocybe cubensis)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    <tr>
                        <td>28.</td>
                        <td>
                            <img src="img/kikik.jpg" 
                            alt="" width="100px" height="100px">
                        </td>
                        <td>
                            <p>Jamur Kikik</p>
                            <p><em>(Amanita junguilea)</em></p> 
                        </td>
                        <td>
                            <p class="text-danger">Beracun</p>
                        </td>
                    </tr>
                    


                </Table>
            </div>
        </div>
        
        


        <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.3.1/dist/tf.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@teachablemachine/image@0.8/dist/teachablemachine-image.min.js"></script>
        <script type="text/javascript">
            // More API functions here:
            // https://github.com/googlecreativelab/teachablemachine-community/tree/master/libraries/image
        
            // the link to your model provided by Teachable Machine export panel
            const URL = "my_model/";
        
            let model, webcam, labelContainer, maxPredictions;
        
            // Load the image model and setup the webcam
            function itemClick(){
                alert("aa")
            }
            async function init() {
                const modelURL = URL + "model.json";
                const metadataURL = URL + "metadata.json";
        
                // load the model and metadata
                // Refer to tmImage.loadFromFiles() in the API to support files from a file picker
                // or files from your local hard drive
                // Note: the pose library adds "tmImage" object to your window (window.tmImage)
                model = await tmImage.load(modelURL, metadataURL);
                maxPredictions = model.getTotalClasses();
        
                // Convenience function to setup a webcam
                const flip = true; // whether to flip the webcam
                webcam = new tmImage.Webcam(400, 400, flip); // width, height, flip
                await webcam.setup(); // request access to the webcam
                await webcam.play();
                window.requestAnimationFrame(loop);
        
                // append elements to the DOM
                document.getElementById("webcam-container").appendChild(webcam.canvas);
                labelContainer = document.getElementById("label-container");
                for (let i = 0; i < maxPredictions; i++) { // and class labels
                    labelContainer.appendChild(document.createElement("div"));
                }
            }
        
            async function loop() {
                webcam.update(); // update the webcam frame
                await predict();
                window.requestAnimationFrame(loop);
            }
        
            // run the webcam image through the image model
            async function predict() {
                // predict can take in an image, video or canvas html element
                const prediction = await model.predict(webcam.canvas);
                for (let i = 0; i < maxPredictions; i++) {
                    const classPrediction =
                        prediction[i].className + ": " + prediction[i].probability.toFixed(2);
                    labelContainer.childNodes[i].innerHTML = classPrediction;
                }
            }
        </script>

    <!-- <div class="mt-auto" style=" bottom: 0;">
        <p class="text-center">
            Powered by Teachable Machine Image Model
        </p>
    </div> -->
        
    </body>
</html>
